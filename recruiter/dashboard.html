<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SmartMock – Recruiter Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/styles.css" />
  <link rel="stylesheet" href="../assets/css/recruiter.css" />
    <style>
      /* Dark Black Theme with Purple Particles */
      body {
        background: #000000 !important;
        position: relative;
        overflow-x: hidden;
      }
      
      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at 50% 50%, rgba(168, 85, 247, 0.05) 0%, transparent 70%);
        pointer-events: none;
        z-index: 0;
      }
      
      .particles-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 0;
        overflow: hidden;
      }
      
      .particle {
        position: absolute;
        background: #a855f7;
        border-radius: 50%;
        box-shadow: 0 0 10px rgba(168, 85, 247, 0.5), 0 0 20px rgba(168, 85, 247, 0.5);
        opacity: 0;
        animation: floatUpward linear infinite;
      }
      
      @keyframes floatUpward {
        0% {
          transform: translateY(100vh) translateX(0) scale(0);
          opacity: 0;
        }
        10% { opacity: 1; }
        90% { opacity: 1; }
        100% {
          transform: translateY(-20vh) translateX(var(--drift)) scale(1);
          opacity: 0;
        }
      }
      
      header, main, section, .card, .hero-card, .auth-card, .report-card, .interview-container {
        position: relative;
        z-index: 10;
      }
      
      .site-header {
        background: rgba(10, 10, 10, 0.8) !important;
        backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(168, 85, 247, 0.2);
      }
      
      .card, .hero-card, .report-card {
        background: rgba(18, 18, 18, 0.8) !important;
        backdrop-filter: blur(20px);
        border: 1px solid rgba(168, 85, 247, 0.2);
        transition: all 0.3s ease;
      }
      
      .card:hover, .hero-card:hover, .report-card:hover, .hover-card:hover {
        border-color: rgba(168, 85, 247, 0.5);
        box-shadow: 0 10px 40px rgba(168, 85, 247, 0.3);
        transform: translateY(-5px);
      }
      
      .logo-accent {
        color: #a855f7 !important;
        text-shadow: 0 0 20px rgba(168, 85, 247, 0.5);
      }
      
      .btn.primary {
        background: linear-gradient(135deg, #a855f7, #d946ef) !important;
        box-shadow: 0 10px 30px rgba(168, 85, 247, 0.4);
      }
      
      .btn.primary:hover {
        box-shadow: 0 15px 40px rgba(168, 85, 247, 0.6);
        transform: translateY(-2px);
      }
      
      .auth-card {
        background: rgba(18, 18, 18, 0.9) !important;
        backdrop-filter: blur(20px);
        border: 1px solid rgba(168, 85, 247, 0.3);
        box-shadow: 0 20px 60px rgba(168, 85, 247, 0.3);
      }
    </style>
  
    <style>
      /* Dark Black Theme with Purple Particles & Parallax */
      body {
        background: #000000 !important;
        position: relative;
        overflow-x: hidden;
      }
      
      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle at var(--gradient-x, 50%) var(--gradient-y, 50%), 
          rgba(168, 85, 247, 0.05) 0%, 
          transparent 70%
        );
        pointer-events: none;
        z-index: 0;
        will-change: transform;
        transition: background 0.3s ease;
      }
      
      .particles-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 0;
        overflow: hidden;
        will-change: transform;
        transform-style: preserve-3d;
      }
      
      .particle {
        position: absolute;
        background: #a855f7;
        border-radius: 50%;
        box-shadow: 0 0 10px rgba(168, 85, 247, 0.5), 0 0 20px rgba(168, 85, 247, 0.5);
        opacity: 0;
        animation: floatUpward linear infinite;
      }
      
      @keyframes floatUpward {
        0% {
          transform: translateY(100vh) translateX(0) scale(0);
          opacity: 0;
        }
        10% { opacity: 1; }
        90% { opacity: 1; }
        100% {
          transform: translateY(-20vh) translateX(var(--drift)) scale(1);
          opacity: 0;
        }
      }
      
      header, main, section, .card, .hero-card, .auth-card, .report-card, .interview-container {
        position: relative;
        z-index: 10;
        will-change: transform;
        transform-style: preserve-3d;
      }
      
      .site-header {
        background: rgba(10, 10, 10, 0.8) !important;
        backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(168, 85, 247, 0.2);
        z-index: 2000 !important;
      }
      
      .card, .hero-card, .report-card {
        background: rgba(18, 18, 18, 0.8) !important;
        backdrop-filter: blur(20px);
        border: 1px solid rgba(168, 85, 247, 0.2);
        transition: all 0.3s ease;
      }
      
      .card:hover, .hero-card:hover, .report-card:hover, .hover-card:hover {
        border-color: rgba(168, 85, 247, 0.5);
        box-shadow: 0 10px 40px rgba(168, 85, 247, 0.3);
        transform: translateY(-5px);
      }
      
      .logo-accent {
        color: #a855f7 !important;
        text-shadow: 0 0 20px rgba(168, 85, 247, 0.5);
      }
      
      .btn.primary {
        background: linear-gradient(135deg, #a855f7, #d946ef) !important;
        box-shadow: 0 10px 30px rgba(168, 85, 247, 0.4);
      }
      
      .btn.primary:hover {
        box-shadow: 0 15px 40px rgba(168, 85, 247, 0.6);
        transform: translateY(-2px);
      }
      
      .auth-card {
        background: rgba(18, 18, 18, 0.9) !important;
        backdrop-filter: blur(20px);
        border: 1px solid rgba(168, 85, 247, 0.3);
        box-shadow: 0 20px 60px rgba(168, 85, 247, 0.3);
      }
    </style>
  </head>
<body>
  <header class="site-header">
    <div class="site-header-inner container">
      <nav class="menu menu-left">
        <div class="menu-button">☰ Menu</div>
        <ul class="dropdown">
          <li><a href="dashboard.html">Dashboard</a></li>
          <li><a href="candidates.html">Candidates</a></li>
          <li><a href="schedule.html">Schedule</a></li>
          <li><a href="reports.html">Reports</a></li>
          <li><a href="leaderboard.html">Leaderboard</a></li>
          <li><a href="settings.html">Settings</a></li>
          <li><a href="../index.html">Exit Recruiter View</a></li>
        </ul>
      </nav>
      <div class="brand"><a href="../home.html"><span class="logo">Smart</span><span class="logo-accent">Mock</span></a></div>
      <div class="menu" style="margin-left:auto;">
        <a class="btn" href="../profile.html">Profile</a>
        <a class="btn" href="#" onclick="signOut(); return false;">Sign out</a>
      </div>
    </div>
  </header>

  <main class="container">
    <h2 class="section-title">Overview</h2>
    <div class="row">
      <div class="kpi"><div class="label">Upcoming Interviews</div><div class="value" id="kpi-upcoming">0</div></div>
      <div class="kpi"><div class="label">Total Candidates</div><div class="value" id="kpi-candidates">0</div></div>
      <div class="kpi"><div class="label">Avg Stars</div><div class="value" id="kpi-stars">0.0 ⭐</div></div>
      <div class="kpi"><div class="label">Top Dept</div><div class="value" id="kpi-dept">—</div></div>
    </div>

    <h2 class="section-title">Quick Actions</h2>
    <div class="cards">
      <div class="card">
        <div class="badge">New</div>
        <div class="title">Find Candidates</div>
        <p class="desc">Filter by department, stars, score, and activity.</p>
        <button class="btn" onclick="location.href='candidates.html'">Open Search</button>
      </div>
      <div class="card">
        <div class="badge">Smart</div>
        <div class="title">Schedule Interview</div>
        <p class="desc">Create a meeting room with screen share and chat.</p>
        <button class="btn" onclick="location.href='schedule.html'">Schedule</button>
      </div>
      <div class="card">
        <div class="badge">Live</div>
        <div class="title">Join Video Room</div>
        <p class="desc">Start a secure Jitsi room for live interviews.</p>
        <button class="btn" onclick="location.href='interview-room.html'">Join Now</button>
      </div>
    </div>

    <h2 class="section-title">Recent Top Performers</h2>
    <div class="card">
      <div class="row" style="align-items:center; justify-content: space-between;">
        <div class="pill">This Week</div>
        <button class="btn" onclick="location.href='leaderboard.html'">View Leaderboard</button>
      </div>
      <div style="overflow:auto; margin-top:10px;">
        <table class="table" id="top-performers"><thead><tr>
          <th>User</th><th>Department</th><th>Avg Stars</th><th>Best Score</th><th>Last Active</th>
        </tr></thead><tbody></tbody></table>
      </div>
    </div>
  </main>

  <!-- Standardized Firebase version -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <script src="../assets/js/firebase-config.js"></script>
  <script src="../assets/js/recruiter/auth.js"></script>
  <script src="../assets/js/recruiter/dashboard.js"></script>
  <script src="../assets/js/recruiter/menu.js"></script>
  <script>
    (async () => {
      try {
        await window.RecruiterAuth.requireRecruiter();
      } catch (e) {
        console.error('Auth failed', e);
      }
    })();
  </script>

  <!-- Background visuals handled by auto loader below -->
    <script src="../assets/js/auto-purple-bg.js"></script>
  </body>
</html>
